{
  "schemaVersion": "1.2",
  "diagramType": "ServiceArchitecture",
  "layout": {
    "orientation": "horizontal",
    "tiers": ["External", "Edge", "Services", "Data", "Observability"],
    "spacing": { "horizontal": 1.2, "vertical": 0.5 },
    "page": { "widthIn": 11, "heightIn": 5.5, "marginIn": 0.6, "paginate": true },
    "diagnostics": { "pageHeightThresholdIn": 5.0, "laneMaxNodes": 8 }
  },
  "metadata": {
    "title": "Layered Architecture â€“ Dense",
    "version": "0.1",
    "author": "Sample"
  },
  "nodes": [
    { "id": "Client", "label": "Client", "tier": "External", "style": {"fill": "#D6F5E5"} },
    { "id": "Gateway", "label": "API Gateway", "tier": "Edge", "style": {"fill": "#E8F1FF"} },
    { "id": "Auth", "label": "Auth Service", "tier": "Services", "style": {"fill": "#E8F1FF"} },
    { "id": "UserSvc", "label": "User Service", "tier": "Services", "style": {"fill": "#E8F1FF"} },
    { "id": "DB", "label": "User DB", "tier": "Data", "style": {"fill": "#FFF4E5"} },
    { "id": "Observability", "label": "Log & Metrics", "tier": "Observability", "style": {"fill": "#F6F6FF"} },
    { "id": "Svc1", "label": "Order Svc", "tier": "Services", "style": {"fill": "#E8F1FF"} },
    { "id": "Svc2", "label": "Catalog Svc", "tier": "Services", "style": {"fill": "#E8F1FF"} },
    { "id": "Svc3", "label": "Pricing Svc", "tier": "Services", "style": {"fill": "#E8F1FF"} },
    { "id": "Svc4", "label": "Recs Svc", "tier": "Services", "style": {"fill": "#E8F1FF"} },
    { "id": "Svc5", "label": "Email Svc", "tier": "Services", "style": {"fill": "#E8F1FF"} },
    { "id": "Svc6", "label": "Inventory Svc", "tier": "Services", "style": {"fill": "#E8F1FF"} },
    { "id": "Svc7", "label": "Search Svc", "tier": "Services", "style": {"fill": "#E8F1FF"} }
  ],
  "edges": [
    { "sourceId": "Client", "targetId": "Gateway" },
    { "sourceId": "Gateway", "targetId": "Auth" },
    { "sourceId": "Gateway", "targetId": "UserSvc" },
    { "sourceId": "UserSvc", "targetId": "DB" },
    { "sourceId": "UserSvc", "targetId": "Observability", "label": "events" },
    { "sourceId": "Svc1", "targetId": "DB" },
    { "sourceId": "Svc2", "targetId": "DB" },
    { "sourceId": "Svc3", "targetId": "DB" },
    { "sourceId": "Svc4", "targetId": "Svc2" },
    { "sourceId": "Svc5", "targetId": "UserSvc" },
    { "sourceId": "Svc6", "targetId": "DB" },
    { "sourceId": "Svc7", "targetId": "Svc2" },
    { "sourceId": "Svc7", "targetId": "Observability", "label": "events" }
  ]
}

